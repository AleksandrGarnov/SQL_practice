mysql> SHOW DATABASES; - вывод базы данных

CREATE TABLE book -создать таблицу
book_id INT PRIMARY KEY (основной ключ INT ( число))
title VARCHAR (50) (текст с ограничением 50 символов)

author VARCHAR (30) 

price DECIMAL (8,2) (число с копейками (2 количество копеек)

amount INT 







+---------+--------------------+---------------+--------+--------+
| book_id | title              | author        | price  | amount |
+---------+--------------------+---------------+--------+--------+
|       1 | Мастер и Маргарита | Булгаков М.А. | 670.99 |      3 |
+---------+--------------------+---------------+--------+--------+
1 row in set (0.00 sec)

mysql> INSERT INTO book (book_id,title,author,price,amount)
    -> VALUES (2,"Белая Гвардия","Булгаков М.А.", 540.50,5);
Query OK, 1 row affected (0.11 sec)  (вставить значения в таблицу)

mysql> INSERT INTO book (book_id,title,author,price,amount)
    ->
    -> VALUES (3,"Идиот","Достоевский Ф.М.", 460.00,10);
Query OK, 1 row affected (0.04 sec)

mysql> INSERT INTO book (book_id,title,author,price,amount)
    -> VALUES (4,"Братья Карамазовы","Достоевский Ф.М.", 799.01,2);
Query OK, 1 row affected (0.14 sec)

mysql> SELECT * FROM book;(вывод таблицы)
+---------+--------------------+------------------+--------+--------+
| book_id | title              | author           | price  | amount |
+---------+--------------------+------------------+--------+--------+
|       1 | Мастер и Маргарита | Булгаков М.А.    | 670.99 |      3 |
|       2 | Белая Гвардия      | Булгаков М.А.    | 540.50 |      5 |
|       3 | Идиот              | Достоевский Ф.М. | 460.00 |     10 |
|       4 | Братья Карамазовы  | Достоевский Ф.М. | 799.01 |      2 |
+---------+--------------------+------------------+--------+--------+
4 rows in set (0.00 sec)

mysql> INSERT INTO book (book_id,title,author,price,amount)
    -> VALUES (5,"Стихотворения и поэмы","Есенин С.А.", 650.00,15);
Query OK, 1 row affected (0.10 sec)

mysql> SELECT * FROM book;
+---------+-----------------------+------------------+--------+--------+
| book_id | title                 | author           | price  | amount |
+---------+-----------------------+------------------+--------+--------+
|       1 | Мастер и Маргарита    | Булгаков М.А.    | 670.99 |      3 |
|       2 | Белая Гвардия         | Булгаков М.А.    | 540.50 |      5 |
|       3 | Идиот                 | Достоевский Ф.М. | 460.00 |     10 |
|       4 | Братья Карамазовы     | Достоевский Ф.М. | 799.01 |      2 |
|       5 | Стихотворения и поэмы | Есенин С.А.      | 650.00 |     15 |
+---------+-----------------------+------------------+--------+--------+
5 rows in set (0.00 sec)

mysql> SELECT author,title,price FROM book;(вывод некоторых столбцов в таблице)
+------------------+-----------------------+--------+
| author           | title                 | price  |
+------------------+-----------------------+--------+
| Булгаков М.А.    | Мастер и Маргарита    | 670.99 |
| Булгаков М.А.    | Белая Гвардия         | 540.50 |
| Достоевский Ф.М. | Идиот                 | 460.00 |
| Достоевский Ф.М. | Братья Карамазовы     | 799.01 |
| Есенин С.А.      | Стихотворения и поэмы | 650.00 |
+------------------+-----------------------+--------+
5 rows in set (0.00 sec)

mysql> SELECT title AS Название, amount
    -> FROM book; (вывод столбцов title переменованый в название  и amount)
+-----------------------+--------+
| Название              | amount |
+-----------------------+--------+
| Мастер и Маргарита    |      3 |
| Белая Гвардия         |      5 |
| Идиот                 |     10 |
| Братья Карамазовы     |      2 |
| Стихотворения и поэмы |     15 |
+-----------------------+--------+
5 rows in set (0.00 sec)

mysql> SELECT title as Название, author as Автор
    -> FROM book;(вывод столбцов title перемеинованный в название  и author перемеинованный в автор )
+-----------------------+------------------+
| Название              | Автор            |
+-----------------------+------------------+
| Мастер и Маргарита    | Булгаков М.А.    |
| Белая Гвардия         | Булгаков М.А.    |
| Идиот                 | Достоевский Ф.М. |
| Братья Карамазовы     | Достоевский Ф.М. |
| Стихотворения и поэмы | Есенин С.А.      |
+-----------------------+------------------+
5 rows in set (0.00 sec)

mysql> SELECT * FROM book
    -> ;
+---------+-----------------------+------------------+--------+--------+
| book_id | title                 | author           | price  | amount |
+---------+-----------------------+------------------+--------+--------+
|       1 | Мастер и Маргарита    | Булгаков М.А.    | 670.99 |      3 |
|       2 | Белая Гвардия         | Булгаков М.А.    | 540.50 |      5 |
|       3 | Идиот                 | Достоевский Ф.М. | 460.00 |     10 |
|       4 | Братья Карамазовы     | Достоевский Ф.М. | 799.01 |      2 |
|       5 | Стихотворения и поэмы | Есенин С.А.      | 650.00 |     15 |
+---------+-----------------------+------------------+--------+--------+
5 rows in set (0.00 sec)

mysql> SELECT title,amount,
    -> amount * 1.65 AS pack
    -> FROM book; (вывод таблицы со стоимости упаковки в отдельный столбец pack)
+-----------------------+--------+-------+
| title                 | amount | pack  |
+-----------------------+--------+-------+
| Мастер и Маргарита    |      3 |  4.95 |
| Белая Гвардия         |      5 |  8.25 |
| Идиот                 |     10 | 16.50 |
| Братья Карамазовы     |      2 |  3.30 |
| Стихотворения и поэмы |     15 | 24.75 |
+-----------------------+--------+-------+
5 rows in set (0.00 sec)

mysql> SELECT * FROM book;
+---------+-----------------------+------------------+--------+--------+
| book_id | title                 | author           | price  | amount |
+---------+-----------------------+------------------+--------+--------+
|       1 | Мастер и Маргарита    | Булгаков М.А.    | 670.99 |      3 |
|       2 | Белая Гвардия         | Булгаков М.А.    | 540.50 |      5 |
|       3 | Идиот                 | Достоевский Ф.М. | 460.00 |     10 |
|       4 | Братья Карамазовы     | Достоевский Ф.М. | 799.01 |      2 |
|       5 | Стихотворения и поэмы | Есенин С.А.      | 650.00 |     15 |
+---------+-----------------------+------------------+--------+--------+
5 rows in set (0.00 sec)

mysql> SELECT title,price,
    -> (price * 18 / 100) /(1 + 18 /100) AS tax,
    -> price /(1+18/100) AS price_tax
    -> FROM book; (вывод суммы налога и тд в отдельные столбцы)
+-----------------------+--------+----------------+------------+
| title                 | price  | tax            | price_tax  |
+-----------------------+--------+----------------+------------+
| Мастер и Маргарита    | 670.99 | 102.3544067797 | 568.635593 |
| Белая Гвардия         | 540.50 |  82.4491525424 | 458.050847 |
| Идиот                 | 460.00 |  70.1694915254 | 389.830508 |
| Братья Карамазовы     | 799.01 | 121.8828813559 | 677.127119 |
| Стихотворения и поэмы | 650.00 |  99.1525423729 | 550.847458 |
+-----------------------+--------+----------------+------------+
5 rows in set (0.06 sec)

mysql> SELECT title,
    -> price,
    -> ROUND ((price * 18/100)/(1+18/100),2) AS tax,
    -> ROUND (price/(1+ 18/100),2) AS price_tax
    -> FROM book;
+-----------------------+--------+--------+-----------+
| title                 | price  | tax    | price_tax |
+-----------------------+--------+--------+-----------+
| Мастер и Маргарита    | 670.99 | 102.35 |    568.64 |
| Белая Гвардия         | 540.50 |  82.45 |    458.05 |
| Идиот                 | 460.00 |  70.17 |    389.83 |
| Братья Карамазовы     | 799.01 | 121.88 |    677.13 |
| Стихотворения и поэмы | 650.00 |  99.15 |    550.85 |
+-----------------------+--------+--------+-----------+
5 rows in set (0.06 sec)

mysql> SELECT title,
    -> price,
    -> (price * 0.3) AS new_price
    -> FROM book;
+-----------------------+--------+-----------+
| title                 | price  | new_price |
+-----------------------+--------+-----------+
| Мастер и Маргарита    | 670.99 |   201.297 |
| Белая Гвардия         | 540.50 |   162.150 |
| Идиот                 | 460.00 |   138.000 |
| Братья Карамазовы     | 799.01 |   239.703 |
| Стихотворения и поэмы | 650.00 |   195.000 |
+-----------------------+--------+-----------+
5 rows in set (0.00 sec)

mysql> SELECT * FROM book;
+---------+-----------------------+------------------+--------+--------+
| book_id | title                 | author           | price  | amount |
+---------+-----------------------+------------------+--------+--------+
|       1 | Мастер и Маргарита    | Булгаков М.А.    | 670.99 |      3 |
|       2 | Белая Гвардия         | Булгаков М.А.    | 540.50 |      5 |
|       3 | Идиот                 | Достоевский Ф.М. | 460.00 |     10 |
|       4 | Братья Карамазовы     | Достоевский Ф.М. | 799.01 |      2 |
|       5 | Стихотворения и поэмы | Есенин С.А.      | 650.00 |     15 |
+---------+-----------------------+------------------+--------+--------+
5 rows in set (0.00 sec)


mysql> SELECT title,
    -> price,
    -> (price-(price * 0.3)) AS new_price
    -> FROM book;
+-----------------------+--------+-----------+
| title                 | price  | new_price |
+-----------------------+--------+-----------+
| Мастер и Маргарита    | 670.99 |   469.693 |
| Белая Гвардия         | 540.50 |   378.350 |
| Идиот                 | 460.00 |   322.000 |
| Братья Карамазовы     | 799.01 |   559.307 |
| Стихотворения и поэмы | 650.00 |   455.000 |
+-----------------------+--------+-----------+
5 rows in set (0.00 sec)

mysql> SELECT title,
    -> price,
    -> ROUND (price-(price*0.3),2) AS new_price
    -> FROM book;
+-----------------------+--------+-----------+
| title                 | price  | new_price |
+-----------------------+--------+-----------+
| Мастер и Маргарита    | 670.99 |    469.69 |
| Белая Гвардия         | 540.50 |    378.35 |
| Идиот                 | 460.00 |    322.00 |
| Братья Карамазовы     | 799.01 |    559.31 |
| Стихотворения и поэмы | 650.00 |    455.00 |
+-----------------------+--------+-----------+
5 rows in set (0.00 sec)

mysql> SELECT title,author,amount,
    -> price,
    -> ROUND (price - (price * 0.3),2) AS new_price
    -> FROM book;
+-----------------------+------------------+--------+--------+-----------+
| title                 | author           | amount | price  | new_price |
+-----------------------+------------------+--------+--------+-----------+
| Мастер и Маргарита    | Булгаков М.А.    |      3 | 670.99 |    469.69 |
| Белая Гвардия         | Булгаков М.А.    |      5 | 540.50 |    378.35 |
| Идиот                 | Достоевский Ф.М. |     10 | 460.00 |    322.00 |
| Братья Карамазовы     | Достоевский Ф.М. |      2 | 799.01 |    559.31 |
| Стихотворения и поэмы | Есенин С.А.      |     15 | 650.00 |    455.00 |
+-----------------------+------------------+--------+--------+-----------+
5 rows in set (0.00 sec)

mysql> SELECT title,author,amount,
    -> ROUND (price-(price*0.3),2) AS new_price
    -> FROM book;
+-----------------------+------------------+--------+-----------+
| title                 | author           | amount | new_price |
+-----------------------+------------------+--------+-----------+
| Мастер и Маргарита    | Булгаков М.А.    |      3 |    469.69 |
| Белая Гвардия         | Булгаков М.А.    |      5 |    378.35 |
| Идиот                 | Достоевский Ф.М. |     10 |    322.00 |
| Братья Карамазовы     | Достоевский Ф.М. |      2 |    559.31 |
| Стихотворения и поэмы | Есенин С.А.      |     15 |    455.00 |
+-----------------------+------------------+--------+-----------+
5 rows in set (0.00 sec)

mysql>mysql> SELECT author,title,
    -> ROUND (IF( author='Булгаков М.А.',price*1.1, IF (author='Есенин С.А.',price*1.05,price*1)),2) AS new_price
    -> FROM book; (вывести author,title, если автор Булгаков увеличить стоимость на 10%, если Есенин на 5%)
+------------------+-----------------------+-----------+
| author           | title                 | new_price |
+------------------+-----------------------+-----------+
| Булгаков М.А.    | Мастер и Маргарита    |    738.09 |
| Булгаков М.А.    | Белая Гвардия         |    594.55 |
| Достоевский Ф.М. | Идиот                 |    460.00 |
| Достоевский Ф.М. | Братья Карамазовы     |    799.01 |
| Есенин С.А.      | Стихотворения и поэмы |    682.50 |
+------------------+-----------------------+-----------+
5 rows in set (0.00 sec)

mysql> SELECT title, price
    -> FROM book
    -> WHERE price <600;
+---------------+--------+
| title         | price  |
+---------------+--------+
| Белая Гвардия | 540.50 |
| Идиот         | 460.00 |
+---------------+--------+
2 rows in set (0.06 sec)

mysql> SELECT title,author,price * amount AS total
    -> FROM book
    -> WHERE price * amount > 4000;
+-----------------------+------------------+---------+
| title                 | author           | total   |
+-----------------------+------------------+---------+
| Идиот                 | Достоевский Ф.М. | 4600.00 |
| Стихотворения и поэмы | Есенин С.А.      | 9750.00 |
+-----------------------+------------------+---------+
2 rows in set (0.00 sec)

mysql> SELECT title,author, price
    -> FROM book
    -> WHERE amount >10; (вывести title,author, price где количество книг больше 10)
+-----------------------+-------------+--------+
| title                 | author      | price  |
+-----------------------+-------------+--------+
| Стихотворения и поэмы | Есенин С.А. | 650.00 |
+-----------------------+-------------+--------+
1 row in set (0.00 sec)

mysql> SELECT title,author, price
    -> FROM book
    -> WHERE amount < 10;(вывести title,author, price где количество книг меньше 10)
+--------------------+------------------+--------+
| title              | author           | price  |
+--------------------+------------------+--------+
| Мастер и Маргарита | Булгаков М.А.    | 670.99 |
| Белая Гвардия      | Булгаков М.А.    | 540.50 |
| Братья Карамазовы  | Достоевский Ф.М. | 799.01 |
+--------------------+------------------+--------+
3 rows in set (0.00 sec)

mysql>mysql> SELECT author,title,
    -> ROUND (IF( author='Булгаков М.А.',price*1.1, IF (author='Есенин С.А.',price*1.05,price*1)),2) AS new_price
    -> FROM book;
+------------------+-----------------------+-----------+
| author           | title                 | new_price |
+------------------+-----------------------+-----------+
| Булгаков М.А.    | Мастер и Маргарита    |    738.09 |
| Булгаков М.А.    | Белая Гвардия         |    594.55 |
| Достоевский Ф.М. | Идиот                 |    460.00 |
| Достоевский Ф.М. | Братья Карамазовы     |    799.01 |
| Есенин С.А.      | Стихотворения и поэмы |    682.50 |
+------------------+-----------------------+-----------+
5 rows in set (0.00 sec)

mysql> SELECT title, price
    -> FROM book
    -> WHERE price <600;
+---------------+--------+
| title         | price  |
+---------------+--------+
| Белая Гвардия | 540.50 |
| Идиот         | 460.00 |
+---------------+--------+
2 rows in set (0.06 sec)

mysql> SELECT title,author,price * amount AS total
    -> FROM book
    -> WHERE price * amount > 4000;
+-----------------------+------------------+---------+
| title                 | author           | total   |
+-----------------------+------------------+---------+
| Идиот                 | Достоевский Ф.М. | 4600.00 |
| Стихотворения и поэмы | Есенин С.А.      | 9750.00 |
+-----------------------+------------------+---------+
2 rows in set (0.00 sec)

mysql> SELECT title,author, price
    -> FROM book
    -> WHERE amount >10;
+-----------------------+-------------+--------+
| title                 | author      | price  |
+-----------------------+-------------+--------+
| Стихотворения и поэмы | Есенин С.А. | 650.00 |
+-----------------------+-------------+--------+
1 row in set (0.00 sec)

mysql> SELECT title,author, price
    -> FROM book
    -> WHERE amount < 10;
+--------------------+------------------+--------+
| title              | author           | price  |
+--------------------+------------------+--------+
| Мастер и Маргарита | Булгаков М.А.    | 670.99 |
| Белая Гвардия      | Булгаков М.А.    | 540.50 |
| Братья Карамазовы  | Достоевский Ф.М. | 799.01 |
+--------------------+------------------+--------+
3 rows in set (0.00 sec)

mysql> SELECT title, author,price
    -> FROM book
    -> WHERE price >600 AND author = 'Булгаков М.А.'; (вывести title, author,price где цена больше 600 и автор Булгаков)
+--------------------+---------------+--------+
| title              | author        | price  |
+--------------------+---------------+--------+
| Мастер и Маргарита | Булгаков М.А. | 670.99 |
+--------------------+---------------+--------+
1 row in set (0.01 sec)

mysql> SELECT title,author,price
    -> FROM book
    -> WHERE (author = 'Булгаков М.А.' OR author = 'Есенин С.А.') AND price > 600;(вывести title, author,price  где автор Булгаков или Есенин и цена больше 600)
+-----------------------+---------------+--------
| title                 | author        | price  |
+-----------------------+---------------+--------+
| Мастер и Маргарита    | Булгаков М.А. | 670.99 |
| Стихотворения и поэмы | Есенин С.А.   | 650.00 |
+-----------------------+---------------+--------+
2 rows in set (0.00 sec)

mysql> SELECT title, author,amount
    -> FROM book
    -> WHERE (price <500 OR price >600) AND amount*price>=5000;
+-----------------------+-------------+--------+
| title                 | author      | amount |
+-----------------------+-------------+--------+
| Стихотворения и поэмы | Есенин С.А. |     15 |
+-----------------------+-------------+--------+
1 row in set (0.00 sec)


mysql> SELECT title, author,amount
    -> FROM book
    -> WHERE (price <500 OR price >600) AND amount*price>=5000;
+-----------------------+-------------+--------+
| title                 | author      | amount |
+-----------------------+-------------+--------+
| Стихотворения и поэмы | Есенин С.А. |     15 |
+-----------------------+-------------+--------+
1 row in set (0.00 sec)

mysql> SELECT title, author,price
    -> FROM book
    -> WHERE (price <500 OR price >600) AND amount*price>=5000;вывести title, author,amount  где цена больше 500  ме
+-----------------------+-------------+--------+
| title                 | author      | price  |
+-----------------------+-------------+--------+
| Стихотворения и поэмы | Есенин С.А. | 650.00 |
+-----------------------+-------------+--------+
1 row in set (0.00 sec)

mysql> SELECT title, author,price,amount
    -> FROM book
    -> WHERE (price <500 OR price >600) AND amount*price>=5000;
+-----------------------+-------------+--------+--------+
| title                 | author      | price  | amount |
+-----------------------+-------------+--------+--------+
| Стихотворения и поэмы | Есенин С.А. | 650.00 |     15 |
+-----------------------+-------------+--------+--------+
1 row in set (0.00 sec)


mysql> SELECT title, amount
    -> FROM book
    -> WHERE amount BETWEEN 5 AND 14; (вывести значения title, amount где amount между 5  и 14)
+---------------+--------+
| title         | amount |
+---------------+--------+
| Белая Гвардия |      5 |
| Идиот         |     10 |
+---------------+--------+
2 rows in set (0.03 sec)

mysql> SELECT author,title,
    -> ROUND (IF( author='Булгаков М.А.',price*1.1, IF (author='Есенин С.А.',price*1.05,price*1)),2) AS new_price
    -> FROM book;
+------------------+-----------------------+-----------+
| author           | title                 | new_price |
+------------------+-----------------------+-----------+
| Булгаков М.А.    | Мастер и Маргарита    |    738.09 |
| Булгаков М.А.    | Белая Гвардия         |    594.55 |
| Достоевский Ф.М. | Идиот                 |    460.00 |
| Достоевский Ф.М. | Братья Карамазовы     |    799.01 |
| Есенин С.А.      | Стихотворения и поэмы |    682.50 |
+------------------+-----------------------+-----------+
5 rows in set (0.00 sec)

mysql> SELECT title, price
    -> FROM book
    -> WHERE price <600;
+---------------+--------+
| title         | price  |
+---------------+--------+
| Белая Гвардия | 540.50 |
| Идиот         | 460.00 |
+---------------+--------+
2 rows in set (0.06 sec)

mysql> SELECT title,author,price * amount AS total
    -> FROM book
    -> WHERE price * amount > 4000;
+-----------------------+------------------+---------+
| title                 | author           | total   |
+-----------------------+------------------+---------+
| Идиот                 | Достоевский Ф.М. | 4600.00 |
| Стихотворения и поэмы | Есенин С.А.      | 9750.00 |
+-----------------------+------------------+---------+
2 rows in set (0.00 sec)

mysql> SELECT title,author, price
    -> FROM book
    -> WHERE amount >10;
+-----------------------+-------------+--------+
| title                 | author      | price  |
+-----------------------+-------------+--------+
| Стихотворения и поэмы | Есенин С.А. | 650.00 |
+-----------------------+-------------+--------+
1 row in set (0.00 sec)

mysql> SELECT title,author, price
    -> FROM book
    -> WHERE amount < 10;
+--------------------+------------------+--------+
| title              | author           | price  |
+--------------------+------------------+--------+
| Мастер и Маргарита | Булгаков М.А.    | 670.99 |
| Белая Гвардия      | Булгаков М.А.    | 540.50 |
| Братья Карамазовы  | Достоевский Ф.М. | 799.01 |
+--------------------+------------------+--------+
3 rows in set (0.00 sec)

mysql> SELECT title, author,price
    -> FROM book
    -> WHERE price >600 AND author = 'Булгаков М.А.';
+--------------------+---------------+--------+
| title              | author        | price  |
+--------------------+---------------+--------+
| Мастер и Маргарита | Булгаков М.А. | 670.99 |
+--------------------+---------------+--------+
1 row in set (0.01 sec)

mysql> SELECT title,author,price
    -> FROM book
    -> WHERE (author = 'Булгаков М.А.' OR author = 'Есенин С.А.') AND price > 600;
+-----------------------+---------------+--------+
| title                 | author        | price  |
+-----------------------+---------------+--------+
| Мастер и Маргарита    | Булгаков М.А. | 670.99 |
| Стихотворения и поэмы | Есенин С.А.   | 650.00 |
+-----------------------+---------------+--------+
2 rows in set (0.00 sec)

mysql> SELECT title, author,amount
    -> FROM book
    -> WHERE (price <500 OR price >600) AND amount*price>=5000;
+-----------------------+-------------+--------+
| title                 | author      | amount |
+-----------------------+-------------+--------+
| Стихотворения и поэмы | Есенин С.А. |     15 |
+-----------------------+-------------+--------+
1 row in set (0.00 sec)

mysql> SELECT title, author,amount
    -> FROM book
    -> WHERE (price <500 OR price >600) AND amount*price>=5000;
+-----------------------+-------------+--------+
| title                 | author      | amount |
+-----------------------+-------------+--------+
| Стихотворения и поэмы | Есенин С.А. |     15 |
+-----------------------+-------------+--------+
1 row in set (0.00 sec)

mysql> SELECT title, author,price
    -> FROM book
    -> WHERE (price <500 OR price >600) AND amount*price>=5000;
+-----------------------+-------------+--------+
| title                 | author      | price  |
+-----------------------+-------------+--------+
| Стихотворения и поэмы | Есенин С.А. | 650.00 |
+-----------------------+-------------+--------+
1 row in set (0.00 sec)

mysql> SELECT title, author,price,amount
    -> FROM book
    -> WHERE (price <500 OR price >600) AND amount*price>=5000;
+-----------------------+-------------+--------+--------+
| title                 | author      | price  | amount |
+-----------------------+-------------+--------+--------+
| Стихотворения и поэмы | Есенин С.А. | 650.00 |     15 |
+-----------------------+-------------+--------+--------+
1 row in set (0.00 sec)

mysql> SELECT title, amount
    -> FROM book
    -> WHERE amount BETWEEN 5 AND 14;
+---------------+--------+
| title         | amount |
+---------------+--------+
| Белая Гвардия |      5 |
| Идиот         |     10 |
+---------------+--------+
2 rows in set (0.03 sec)
mysql> SHOW DATABASES;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| sales              |
| sys                |
+--------------------+
5 rows in set (0.78 sec)

mysql> USE sales;
Database changed
mysql> SHOW TABLES;
+-----------------+
| Tables_in_sales |
+-----------------+
| book            |
| customer        |
| test2           |
+-----------------+
3 rows in set (0.39 sec)

mysql> SELECT title,amount
    -> FROM book
    -> WHERE amount >=5 AND amount <=14;
+---------------+--------+
| title         | amount |
+---------------+--------+
| Белая Гвардия |      5 |
| Идиот         |     10 |
+---------------+--------+
2 rows in set (0.09 sec)

mysql> SELECT title,amount
    -> FROM book
    -> WHERE amount BETWEEN 5 AND 14;
+---------------+--------+
| title         | amount |
+---------------+--------+
| Белая Гвардия |      5 |
| Идиот         |     10 |
+---------------+--------+
2 rows in set (0.00 sec)

mysql> SELECT title,price
    -> FROM book
    -> WHERE author IN ('Булгаков М.А.', 'Достоевский Ф.М.');
+--------------------+--------+
| title              | price  |
+--------------------+--------+
| Мастер и Маргарита | 670.99 |
| Белая Гвардия      | 540.50 |
| Идиот              | 460.00 |
| Братья Карамазовы  | 799.01 |
+--------------------+--------+
4 rows in set (0.00 sec)

mysql> SELECT title,price
    -> FROM book
    -> WHERE author = 'Булгаков М.А.' OR author = 'Достоевский Ф.М.';
+--------------------+--------+
| title              | price  |
+--------------------+--------+
| Мастер и Маргарита | 670.99 |
| Белая Гвардия      | 540.50 |
| Идиот              | 460.00 |
| Братья Карамазовы  | 799.01 |
+--------------------+--------+
4 rows in set (0.00 sec)

mysql> SELECT title,price
    -> FROM book
    -> WHERE (price >=540.50 and price <=800.00) AND ( amount =2 OR amount=3 OR amount=5 OR amount =7);
+--------------------+--------+
| title              | price  |
+--------------------+--------+
| Мастер и Маргарита | 670.99 |
| Белая Гвардия      | 540.50 |
| Братья Карамазовы  | 799.01 |
+--------------------+--------+
3 rows in set (0.00 sec)

mysql> SELECT title,author
    -> FROM book
    -> WHERE (price >=540.50 and price <=800.00) AND ( amount =2 OR amount=3 OR amount=5 OR amount =7);
+--------------------+------------------+
| title              | author           |
+--------------------+------------------+
| Мастер и Маргарита | Булгаков М.А.    |
| Белая Гвардия      | Булгаков М.А.    |
| Братья Карамазовы  | Достоевский Ф.М. |
+--------------------+------------------+
3 rows in set (0.00 sec)

mysql> SELECT title, author,price
    -> FROM book
    -> ORDER BY  title;
+-----------------------+------------------+--------+
| title                 | author           | price  |
+-----------------------+------------------+--------+
| Белая Гвардия         | Булгаков М.А.    | 540.50 |
| Братья Карамазовы     | Достоевский Ф.М. | 799.01 |
| Идиот                 | Достоевский Ф.М. | 460.00 |
| Мастер и Маргарита    | Булгаков М.А.    | 670.99 |
| Стихотворения и поэмы | Есенин С.А.      | 650.00 |
+-----------------------+------------------+--------+
5 rows in set (0.06 sec)

mysql> SELECT title, author,price
    -> FROM book
    -> ORDER BY 1;
+-----------------------+------------------+--------+
| title                 | author           | price  |
+-----------------------+------------------+--------+
| Белая Гвардия         | Булгаков М.А.    | 540.50 |
| Братья Карамазовы     | Достоевский Ф.М. | 799.01 |
| Идиот                 | Достоевский Ф.М. | 460.00 |
| Мастер и Маргарита    | Булгаков М.А.    | 670.99 |
| Стихотворения и поэмы | Есенин С.А.      | 650.00 |
+-----------------------+------------------+--------+
5 rows in set (0.00 sec)

mysql> SELECT author title,price
    -> FROM book
    -> WHERE price <750
    -> ORDER BY author, amount DESC;
+------------------+--------+
| title            | price  |
+------------------+--------+
| Булгаков М.А.    | 540.50 |
| Булгаков М.А.    | 670.99 |
| Достоевский Ф.М. | 460.00 |
| Есенин С.А.      | 650.00 |
+------------------+--------+
4 rows in set (0.00 sec)

mysql> SELECT author title,amount
    -> FROM book
    -> WHERE price <750
    -> ORDER BY author, amount DESC;
+------------------+--------+
| title            | amount |
+------------------+--------+
| Булгаков М.А.    |      5 |
| Булгаков М.А.    |      3 |
| Достоевский Ф.М. |     10 |
| Есенин С.А.      |     15 |
+------------------+--------+
4 rows in set (0.00 sec)

mysql> SELECT author title,amount AS Количество
    -> FROM book
    -> WHERE price <750
    -> ORDER BY author, amount DESC;
+------------------+------------+
| title            | Количество |
+------------------+------------+
| Булгаков М.А.    |          5 |
| Булгаков М.А.    |          3 |
| Достоевский Ф.М. |         10 |
| Есенин С.А.      |         15 |
+------------------+------------+
4 rows in set (0.05 sec)

mysql> SELECT author, title,amount AS Количество
    -> FROM book
    -> WHERE price <750
    -> ORDER BY author, amount DESC;
+------------------+-----------------------+------------+
| author           | title                 | Количество |
+------------------+-----------------------+------------+
| Булгаков М.А.    | Белая Гвардия         |          5 |
| Булгаков М.А.    | Мастер и Маргарита    |          3 |
| Достоевский Ф.М. | Идиот                 |         10 |
| Есенин С.А.      | Стихотворения и поэмы |         15 |
+------------------+-----------------------+------------+
4 rows in set (0.00 sec)

mysql> SELECT author title,amount AS Количество
    -> FROM book
    -> WHERE price <750
    -> ORDER BY author, Количество DESC;
+------------------+------------+
| title            | Количество |
+------------------+------------+
| Булгаков М.А.    |          5 |
| Булгаков М.А.    |          3 |
| Достоевский Ф.М. |         10 |
| Есенин С.А.      |         15 |
+------------------+------------+
4 rows in set (0.00 sec)

mysql> SELECT author, title,amount AS Количество
    -> FROM book
    -> WHERE price <750
    -> ORDER BY author, Количество DESC;
+------------------+-----------------------+------------+
| author           | title                 | Количество |
+------------------+-----------------------+------------+
| Булгаков М.А.    | Белая Гвардия         |          5 |
| Булгаков М.А.    | Мастер и Маргарита    |          3 |
| Достоевский Ф.М. | Идиот                 |         10 |
| Есенин С.А.      | Стихотворения и поэмы |         15 |
+------------------+-----------------------+------------+
4 rows in set (0.00 sec)

mysql> SELECT author,title,amount
    -> FROM book
    -> WHERE amount >=2 AND amount <=14
    -> ORDER BY author ASC, title DESC;
+------------------+--------------------+--------+
| author           | title              | amount |
+------------------+--------------------+--------+
| Булгаков М.А.    | Мастер и Маргарита |      3 |
| Булгаков М.А.    | Белая Гвардия      |      5 |
| Достоевский Ф.М. | Идиот              |     10 |
| Достоевский Ф.М. | Братья Карамазовы  |      2 |
+------------------+--------------------+--------+
4 rows in set (0.06 sec)

mysql> SELECT author,title
    -> FROM book
    -> WHERE amount >=2 AND amount <=14
    -> ORDER BY author ASC, title DESC;
+------------------+--------------------+
| author           | title              |
+------------------+--------------------+
| Булгаков М.А.    | Мастер и Маргарита |
| Булгаков М.А.    | Белая Гвардия      |
| Достоевский Ф.М. | Идиот              |
| Достоевский Ф.М. | Братья Карамазовы  |
+------------------+--------------------+
4 rows in set (0.00 sec)

mysql> SELECT author,title,amount
    -> FROM book
    -> WHERE amount >=2 AND amount <=14
    -> ORDER BY author DESC, title ASC;
+------------------+--------------------+--------+
| author           | title              | amount |
+------------------+--------------------+--------+
| Достоевский Ф.М. | Братья Карамазовы  |      2 |
| Достоевский Ф.М. | Идиот              |     10 |
| Булгаков М.А.    | Белая Гвардия      |      5 |
| Булгаков М.А.    | Мастер и Маргарита |      3 |
+------------------+--------------------+--------+
4 rows in set (0.00 sec)

mysql> SELECT author,title
    -> FROM book
    -> WHERE amount >=2 AND amount <=14
    -> ORDER BY author DESC, title ASC;
+------------------+--------------------+
| author           | title              |
+------------------+--------------------+
| Достоевский Ф.М. | Братья Карамазовы  |
| Достоевский Ф.М. | Идиот              |
| Булгаков М.А.    | Белая Гвардия      |
| Булгаков М.А.    | Мастер и Маргарита |
+------------------+--------------------+
4 rows in set (0.00 sec)

mysql+--------------------+--------+
| title              | price  |
+--------------------+--------+
| Мастер и Маргарита | 670.99 |
| Белая Гвардия      | 540.50 |
| Братья Карамазовы  | 799.01 |
+--------------------+--------+
3 rows in set (0.00 sec)

mysql> SELECT title,price
    -> FROM book$
    -> ;
ERROR 1146 (42S02): Table 'sales.book$' doesn't exist
mysql> SELECT title,author
    -> FROM book$
    -> ;
ERROR 1146 (42S02): Table 'sales.book$' doesn't exist
mysql> SELECT title,author
    -> FROM book
    -> WHERE (price >=540.50 and price <=800.00) AND ( amount =2 OR amount=3 OR amount=5 OR amount =7);
+--------------------+------------------+
| title              | author           |
+--------------------+------------------+
| Мастер и Маргарита | Булгаков М.А.    |
| Белая Гвардия      | Булгаков М.А.    |
| Братья Карамазовы  | Достоевский Ф.М. |
+--------------------+------------------+
3 rows in set (0.00 sec)

mysql> SELECT title, author,price
    -> FROM book
    -> ORDER BY  title;
+-----------------------+------------------+--------+
| title                 | author           | price  |
+-----------------------+------------------+--------+
| Белая Гвардия         | Булгаков М.А.    | 540.50 |
| Братья Карамазовы     | Достоевский Ф.М. | 799.01 |
| Идиот                 | Достоевский Ф.М. | 460.00 |
| Мастер и Маргарита    | Булгаков М.А.    | 670.99 |
| Стихотворения и поэмы | Есенин С.А.      | 650.00 |
+-----------------------+------------------+--------+
5 rows in set (0.06 sec)

mysql> SELECT title, author,price
    -> FROM book
    -> ORDER BY 1$
    -> ;
ERROR 1054 (42S22): Unknown column '1$' in 'order clause'
mysql> SELECT title, author,price
    -> FROM book
    -> ORDER BY 1;
+-----------------------+------------------+--------+
| title                 | author           | price  |
+-----------------------+------------------+--------+
| Белая Гвардия         | Булгаков М.А.    | 540.50 |
| Братья Карамазовы     | Достоевский Ф.М. | 799.01 |
| Идиот                 | Достоевский Ф.М. | 460.00 |
| Мастер и Маргарита    | Булгаков М.А.    | 670.99 |
| Стихотворения и поэмы | Есенин С.А.      | 650.00 |
+-----------------------+------------------+--------+
5 rows in set (0.00 sec)

mysql> SELECT author title,price
    -> FROM book
    -> WHERE price <750
    -> ORDER BY author, amount DESC;
+------------------+--------+
| title            | price  |
+------------------+--------+
| Булгаков М.А.    | 540.50 |
| Булгаков М.А.    | 670.99 |
| Достоевский Ф.М. | 460.00 |
| Есенин С.А.      | 650.00 |
+------------------+--------+
4 rows in set (0.00 sec)

mysql> SELECT author title,amount
    -> FROM book
    -> WHERE price <750
    -> ORDER BY author, amount DESC;
+------------------+--------+
| title            | amount |
+------------------+--------+
| Булгаков М.А.    |      5 |
| Булгаков М.А.    |      3 |
| Достоевский Ф.М. |     10 |
| Есенин С.А.      |     15 |
+------------------+--------+
4 rows in set (0.00 sec)

mysql> SELECT author title,amount AS Количество
    -> FROM book
    -> WHERE price <750
    -> ORDER BY author, amount DESC;
+------------------+------------+
| title            | Количество |
+------------------+------------+
| Булгаков М.А.    |          5 |
| Булгаков М.А.    |          3 |
| Достоевский Ф.М. |         10 |
| Есенин С.А.      |         15 |
+------------------+------------+
4 rows in set (0.05 sec)

mysql> SELECT author, title,amount AS Количество
    -> FROM book
    -> WHERE price <750
    -> ORDER BY author, amount DESC;
+------------------+-----------------------+------------+
| author           | title                 | Количество |
+------------------+-----------------------+------------+
| Булгаков М.А.    | Белая Гвардия         |          5 |
| Булгаков М.А.    | Мастер и Маргарита    |          3 |
| Достоевский Ф.М. | Идиот                 |         10 |
| Есенин С.А.      | Стихотворения и поэмы |         15 |
+------------------+-----------------------+------------+
4 rows in set (0.00 sec)

mysql> SELECT author title,amount AS Количество
    -> FROM book
    -> WHERE price <750
    -> ORDER BY author, Количество DESC;
+------------------+------------+
| title            | Количество |
+------------------+------------+
| Булгаков М.А.    |          5 |
| Булгаков М.А.    |          3 |
| Достоевский Ф.М. |         10 |
| Есенин С.А.      |         15 |
+------------------+------------+
4 rows in set (0.00 sec)

mysql> SELECT author, title,amount AS Количество
    -> FROM book
    -> WHERE price <750
    -> ORDER BY author, Количество DESC;
+------------------+-----------------------+------------+
| author           | title                 | Количество |
+------------------+-----------------------+------------+
| Булгаков М.А.    | Белая Гвардия         |          5 |
| Булгаков М.А.    | Мастер и Маргарита    |          3 |
| Достоевский Ф.М. | Идиот                 |         10 |
| Есенин С.А.      | Стихотворения и поэмы |         15 |
+------------------+-----------------------+------------+
4 rows in set (0.00 sec)

mysql> SELECT author,title,amount
    -> FROM book
    -> WHERE amount >=2 AND amount <=14
    -> ORDER BY author ASC, title DESC;
+------------------+--------------------+--------+
| author           | title              | amount |
+------------------+--------------------+--------+
| Булгаков М.А.    | Мастер и Маргарита |      3 |
| Булгаков М.А.    | Белая Гвардия      |      5 |
| Достоевский Ф.М. | Идиот              |     10 |
| Достоевский Ф.М. | Братья Карамазовы  |      2 |
+------------------+--------------------+--------+
4 rows in set (0.06 sec)

mysql> SELECT author,title
    -> FROM book
    -> WHERE amount >=2 AND amount <=14
    -> ORDER BY author ASC, title DESC;
+------------------+--------------------+
| author           | title              |
+------------------+--------------------+
| Булгаков М.А.    | Мастер и Маргарита |
| Булгаков М.А.    | Белая Гвардия      |
| Достоевский Ф.М. | Идиот              |
| Достоевский Ф.М. | Братья Карамазовы  |
+------------------+--------------------+
4 rows in set (0.00 sec)

mysql> SELECT author,title,amount
    -> FROM book
    -> WHERE amount >=2 AND amount <=14
    -> ORDER BY author DESC, title ASC;
+------------------+--------------------+--------+
| author           | title              | amount |
+------------------+--------------------+--------+
| Достоевский Ф.М. | Братья Карамазовы  |      2 |
| Достоевский Ф.М. | Идиот              |     10 |
| Булгаков М.А.    | Белая Гвардия      |      5 |
| Булгаков М.А.    | Мастер и Маргарита |      3 |
+------------------+--------------------+--------+
4 rows in set (0.00 sec)

mysql> SELECT author,title
    -> FROM book
    -> WHERE amount >=2 AND amount <=14
    -> ORDER BY author DESC, title ASC;
+------------------+--------------------+
| author           | title              |
+------------------+--------------------+
| Достоевский Ф.М. | Братья Карамазовы  |
| Достоевский Ф.М. | Идиот              |
| Булгаков М.А.    | Белая Гвардия      |
| Булгаков М.А.    | Мастер и Маргарита |
+------------------+--------------------+
4 rows in set (0.00 sec)

mysql> SELECT * FROM book;
+---------+-----------------------+------------------+--------+--------+
| book_id | title                 | author           | price  | amount |
+---------+-----------------------+------------------+--------+--------+
|       1 | Мастер и Маргарита    | Булгаков М.А.    | 670.99 |      3 |
|       2 | Белая Гвардия         | Булгаков М.А.    | 540.50 |      5 |
|       3 | Идиот                 | Достоевский Ф.М. | 460.00 |     10 |
|       4 | Братья Карамазовы     | Достоевский Ф.М. | 799.01 |      2 |
|       5 | Стихотворения и поэмы | Есенин С.А.      | 650.00 |     15 |
+---------+-----------------------+------------------+--------+--------+
5 rows in set (0.00 sec)

mysql> SELECT book_id,title, amount
    -> FROM book;
+---------+-----------------------+--------+
| book_id | title                 | amount |
+---------+-----------------------+--------+
|       1 | Мастер и Маргарита    |      3 |
|       2 | Белая Гвардия         |      5 |
|       3 | Идиот                 |     10 |
|       4 | Братья Карамазовы     |      2 |
|       5 | Стихотворения и поэмы |     15 |
+---------+-----------------------+--------+
5 rows in set (0.00 sec)

mysql> SELECT title
    -> FROM book
    -> WHERE  title LIKE 'Б%';
+-------------------+
| title             |
+-------------------+
| Белая Гвардия     |
| Братья Карамазовы |
+-------------------+
2 rows in set (0.06 sec)

mysql> SELECT title
    -> FROM book
    -> WHERE  title LIKE '_____';
+-------+
| title |
+-------+
| Идиот |
+-------+
1 row in set (0.00 sec)

mysql> SELECT title FROM book
    -> WHERE  title LIKE '_____'; (вывести в названия с названием ровно 5 букв)
+-------+
| title |
+-------+
| Идиот |
+-------+
1 row in set (0.00 sec)

mysql> SELECT title
    -> FROM book
    -> WHERE  title LIKE '______';
Empty set (0.00 sec)

mysql> SELECT title
    -> FROM book
    -> WHERE  title LIKE '_____%';(вывести в названия с названием больше 5 букв)
+-----------------------+
| title                 |
+-----------------------+
| Мастер и Маргарита    |
| Белая Гвардия         |
| Идиот                 |
| Братья Карамазовы     |
| Стихотворения и поэмы |
+-----------------------+
5 rows in set (0.00 sec)

mysql> SELECT * FROM book;
+---------+-----------------------+------------------+--------+--------+
| book_id | title                 | author           | price  | amount |
+---------+-----------------------+------------------+--------+--------+
|       1 | Мастер и Маргарита    | Булгаков М.А.    | 670.99 |      3 |
|       2 | Белая Гвардия         | Булгаков М.А.    | 540.50 |      5 |
|       3 | Идиот                 | Достоевский Ф.М. | 460.00 |     10 |
|       4 | Братья Карамазовы     | Достоевский Ф.М. | 799.01 |      2 |
|       5 | Стихотворения и поэмы | Есенин С.А.      | 650.00 |     15 |
|       6 | NULL                  | Иванов С.С.      |  50.00 |     10 |
|       7 | Дети полуночи         | Рушди Салман     | 950.00 |      5 |
|       8 | Лирика                | Гумилев Н.С.     | 460.00 |     10 |
|       9 | Поэмы                 | Бехтерев С.С.    | 460.00 |     10 |
|      10 | Капитанская дочка     | Пушкин А.С.      | 520.50 |      7 |
+---------+-----------------------+------------------+--------+--------+
10 rows in set (0.00 sec)

mysql> DELETE FROM book
    -> WHERE book_id=1;
Query OK, 1 row affected (1.45 sec)

mysql> SELECT * FROM book;
+---------+-----------------------+------------------+--------+--------+
| book_id | title                 | author           | price  | amount |
+---------+-----------------------+------------------+--------+--------+
|       2 | Белая Гвардия         | Булгаков М.А.    | 540.50 |      5 |
|       3 | Идиот                 | Достоевский Ф.М. | 460.00 |     10 |
|       4 | Братья Карамазовы     | Достоевский Ф.М. | 799.01 |      2 |
|       5 | Стихотворения и поэмы | Есенин С.А.      | 650.00 |     15 |
|       6 | NULL                  | Иванов С.С.      |  50.00 |     10 |
|       7 | Дети полуночи         | Рушди Салман     | 950.00 |      5 |
|       8 | Лирика                | Гумилев Н.С.     | 460.00 |     10 |
|       9 | Поэмы                 | Бехтерев С.С.    | 460.00 |     10 |
|      10 | Капитанская дочка     | Пушкин А.С.      | 520.50 |      7 |
+---------+-----------------------+------------------+--------+--------+
9 rows in set (0.02 sec)

mysql> INSERT INTO book (book_id,title,author,price,amount)
    -> VALUES (1,'Мастер и Маргарита','Булгаков М.А.',670.99,3);
Query OK, 1 row affected (0.10 sec)

mysql> SELECT * FROM book;
+---------+-----------------------+------------------+--------+--------+
| book_id | title                 | author           | price  | amount |
+---------+-----------------------+------------------+--------+--------+
|       1 | Мастер и Маргарита    | Булгаков М.А.    | 670.99 |      3 |
|       2 | Белая Гвардия         | Булгаков М.А.    | 540.50 |      5 |
|       3 | Идиот                 | Достоевский Ф.М. | 460.00 |     10 |
|       4 | Братья Карамазовы     | Достоевский Ф.М. | 799.01 |      2 |
|       5 | Стихотворения и поэмы | Есенин С.А.      | 650.00 |     15 |
|       6 | NULL                  | Иванов С.С.      |  50.00 |     10 |
|       7 | Дети полуночи         | Рушди Салман     | 950.00 |      5 |
|       8 | Лирика                | Гумилев Н.С.     | 460.00 |     10 |
|       9 | Поэмы                 | Бехтерев С.С.    | 460.00 |     10 |
|      10 | Капитанская дочка     | Пушкин А.С.      | 520.50 |      7 |
+---------+-----------------------+------------------+--------+--------+
10 rows in set (0.00 sec)
mysql> DELETE FROM book
    -> WHERE book_id=6;
Query OK, 1 row affected (0.16 sec)

mysql> DELETE FROM book
    -> WHERE book_id=7;
Query OK, 1 row affected (0.26 sec)

mysql> DELETE FROM book
    -> WHERE book_id=8;
Query OK, 1 row affected (0.14 sec)

mysql> DELETE FROM book
    -> WHERE book_id=9;
Query OK, 1 row affected (0.10 sec)

mysql> DELETE FROM book
    -> WHERE book_id=10;
Query OK, 1 row affected (0.10 sec)

mysql> SELECT * FROM book;
+---------+-----------------------+------------------+--------+--------+
| book_id | title                 | author           | price  | amount |
+---------+-----------------------+------------------+--------+--------+
|       1 | Мастер и Маргарита    | Булгаков М.А.    | 670.99 |      3 |
|       2 | Белая Гвардия         | Булгаков М.А.    | 540.50 |      5 |
|       3 | Идиот                 | Достоевский Ф.М. | 460.00 |     10 |
|       4 | Братья Карамазовы     | Достоевский Ф.М. | 799.01 |      2 |
|       5 | Стихотворения и поэмы | Есенин С.А.      | 650.00 |     15 |
+---------+-----------------------+------------------+--------+--------+
5 rows in set (0.00 sec)

mysql> SELECT * FROM book /*вывести таблицу book*/;
+---------+-----------------------+------------------+--------+--------+
| book_id | title                 | author           | price  | amount |
+---------+-----------------------+------------------+--------+--------+
|       1 | Мастер и Маргарита    | Булгаков М.А.    | 670.99 |      3 |
|       2 | Белая Гвардия         | Булгаков М.А.    | 540.50 |      5 |
|       3 | Идиот                 | Достоевский Ф.М. | 460.00 |     10 |
|       4 | Братья Карамазовы     | Достоевский Ф.М. | 799.01 |      2 |
|       5 | Стихотворения и поэмы | Есенин С.А.      | 650.00 |     15 |
+---------+-----------------------+------------------+--------+--------+
5 rows in set (0.00 sec)

mysql> DELETE FROM book
    -> WHERE book_id=5;
Query OK, 1 row affected (0.09 sec)

mysql> INSERT INTO book (book_id,title,author,price,amount)
    -> VALUES (5,'Игрок','Достоевский Ф.М.',480.50,10);
Query OK, 1 row affected (0.23 sec)

mysql> INSERT INTO book (book_id,title,author,price,amount)
    -> VALUES (6,'Стихотворение и поэмы','Есенин С.А.',650.00,15);
Query OK, 1 row affected (0.11 sec)

mysql> SELECT * FROM book;
+---------+-----------------------+------------------+--------+--------+
| book_id | title                 | author           | price  | amount |
+---------+-----------------------+------------------+--------+--------+
|       1 | Мастер и Маргарита    | Булгаков М.А.    | 670.99 |      3 |
|       2 | Белая Гвардия         | Булгаков М.А.    | 540.50 |      5 |
|       3 | Идиот                 | Достоевский Ф.М. | 460.00 |     10 |
|       4 | Братья Карамазовы     | Достоевский Ф.М. | 799.01 |      2 |
|       5 | Игрок                 | Достоевский Ф.М. | 480.50 |     10 |
|       6 | Стихотворение и поэмы | Есенин С.А.      | 650.00 |     15 |
+---------+-----------------------+------------------+--------+--------+
6 rows in set (0.00 sec)

mysql> SELECT DISTINCT author ( отобрать уникальные значения author)
    -> FROM book;
+------------------+
| author           |
+------------------+
| Булгаков М.А.    |
| Достоевский Ф.М. |
| Есенин С.А.      |
+------------------+
3 rows in set (0.29 sec)

mysql> SELECT author
    -> FROM book
    -> GROUP BY author;
+------------------+
| author           |
+------------------+
| Булгаков М.А.    |
| Достоевский Ф.М. |
| Есенин С.А.      |
+------------------+
3 rows in set (0.03 sec)

mysql> SELECT amount
    -> FROM book
    -> GROUP BY amount;( отобрать уникальные значения amount)
+--------+
| amount |
+--------+
|      3 |
|      5 |
|     10 |
|      2 |
|     15 |
+--------+
5 rows in set (0.00 sec)

mysql> UPDATE book
    -> SET amount=3  WHERE amount=2;
Query OK, 1 row affected (0.16 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> SELECT amount
    -> FROM book
    -> GROUP BY amount;
+--------+
| amount |
+--------+
|      3 |
|      5 |
|     10 |
|     15 |
+--------+
4 rows in set (0.00 sec)

mysql> SELECT author, SUM(amount),COUNT(amount)
    -> FROM book
    -> GROUP BY author; ( посчитать количество экземпляров sum (amount), count (amount)- количество совпадений в таблице.mysql> SELECT author, SUM(amount),COUNT(amount)
    -> FROM book
    -> GROUP BY author;
+------------------+-------------+---------------+
| author           | SUM(amount) | COUNT(amount) |
+------------------+-------------+---------------+
| Булгаков М.А.    |           8 |             2 |
| Достоевский Ф.М. |          23 |             3 |
| Есенин С.А.      |          15 |             1 |
+------------------+-------------+---------------+
3 rows in set (0.00 sec)

mysql> INSERT INTO book (book_id,title,author,price,amount)
    -> VALUES (7,'Черный человек','Есенин С.А.);
    '> ^C
mysql> INSERT INTO book (book_id,title,author)
    -> VALUES (7,'Черный человек','Есенин С.А.);
    '> ^C
mysql> INSERT INTO book (book_id,title,author,price,amount)
    -> VALUES (7,'Черный человек','Есенин С.А., , );
    '> ^C
mysql> INSERT INTO book (book_id,title,author,price,amount)
    -> VALUES (7,'Черный человек','Есенин С.А.');
ERROR 1136 (21S01): Column count doesn't match value count at row 1
mysql> INSERT INTO book (book_id,title,author)
    -> VALUES (7,'Черный человек','Есенин С.А.');
Query OK, 1 row affected (0.12 sec)

mysql> SELECT * FROM book;
+---------+-----------------------+------------------+--------+--------+
| book_id | title                 | author           | price  | amount |
+---------+-----------------------+------------------+--------+--------+
|       1 | Мастер и Маргарита    | Булгаков М.А.    | 670.99 |      3 |
|       2 | Белая Гвардия         | Булгаков М.А.    | 540.50 |      5 |
|       3 | Идиот                 | Достоевский Ф.М. | 460.00 |     10 |
|       4 | Братья Карамазовы     | Достоевский Ф.М. | 799.01 |      3 |
|       5 | Игрок                 | Достоевский Ф.М. | 480.50 |     10 |
|       6 | Стихотворение и поэмы | Есенин С.А.      | 650.00 |     15 |
|       7 | Черный человек        | Есенин С.А.      |   NULL |   NULL |
+---------+-----------------------+------------------+--------+--------+
7 rows in set (0.00 sec)

mysql> SELECT author, COUNT(author), COUNT(amount), COUNT(*)
    -> FROM book
    -> GROUP BY author;
+------------------+---------------+---------------+----------+
| author           | COUNT(author) | COUNT(amount) | COUNT(*) |
+------------------+---------------+---------------+----------+
| Булгаков М.А.    |             2 |             2 |        2 |
| Достоевский Ф.М. |             3 |             3 |        3 |
| Есенин С.А.      |             2 |             1 |        2 |
+------------------+---------------+---------------+----------+
3 rows in set (0.00 sec)

mysql> DELETE FROM book
    -> WHERE book_id=7;
Query OK, 1 row affected (0.09 sec)

mysql> SELECT *FROM book;
+---------+-----------------------+------------------+--------+--------+
| book_id | title                 | author           | price  | amount |
+---------+-----------------------+------------------+--------+--------+
|       1 | Мастер и Маргарита    | Булгаков М.А.    | 670.99 |      3 |
|       2 | Белая Гвардия         | Булгаков М.А.    | 540.50 |      5 |
|       3 | Идиот                 | Достоевский Ф.М. | 460.00 |     10 |
|       4 | Братья Карамазовы     | Достоевский Ф.М. | 799.01 |      3 |
|       5 | Игрок                 | Достоевский Ф.М. | 480.50 |     10 |
|       6 | Стихотворение и поэмы | Есенин С.А.      | 650.00 |     15 |
+---------+-----------------------+------------------+--------+--------+
6 rows in set (0.00 sec)

mysql> SELECT author AS Автор, COUNT(title) AS Различных_книг, COUNT(amount) AS Количество_экземпляров
    -> FROM book
    -> GROUP BY author;
+------------------+----------------+------------------------+
| Автор            | Различных_книг | Количество_экземпляров |
+------------------+----------------+------------------------+
| Булгаков М.А.    |              2 |                      2 |
| Достоевский Ф.М. |              3 |                      3 |
| Есенин С.А.      |              1 |                      1 |
+------------------+----------------+------------------------+
3 rows in set (0.00 sec)

mysql> SELECT author AS Автор, COUNT(title) AS Различных_книг, COUNT(amount) AS Количество_экземпляров
    -> FROM book
    -> ;
+---------------+----------------+------------------------+
| Автор         | Различных_книг | Количество_экземпляров |
+---------------+----------------+------------------------+
| Булгаков М.А. |              6 |                      6 |
+---------------+----------------+------------------------+
1 row in set (0.04 sec)

mysql> SELECT author AS Автор, COUNT(title) AS Различных_книг, COUNT(amount) AS Количество_экземпляров
    -> FROM book
    -> GROUP BY author;
+------------------+----------------+------------------------+
| Автор            | Различных_книг | Количество_экземпляров |
+------------------+----------------+------------------------+
| Булгаков М.А.    |              2 |                      2 |
| Достоевский Ф.М. |              3 |                      3 |
| Есенин С.А.      |              1 |                      1 |
+------------------+----------------+------------------------+
3 rows in set (0.00 sec)

mysql> SELECT author AS Автор, COUNT(title) AS Различных_книг, SUM(amount) AS Количество_экземпляровов
    -> FROM book
    -> GROUP BY author;
+------------------+----------------+--------------------------+
| Автор            | Различных_книг | Количество_экземпляровов |
+------------------+----------------+--------------------------+
| Булгаков М.А.    |              2 |                        8 |
| Достоевский Ф.М. |              3 |                       23 |
| Есенин С.А.      |              1 |                       15 |
+------------------+----------------+--------------------------+
3 rows in set (0.00 sec)

mysql> SELECT author, MIN(price) AS  new_price
    -> FROM book
    -> GROUP BY author;
+------------------+-----------+
| author           | new_price |
+------------------+-----------+
| Булгаков М.А.    |    540.50 |
| Достоевский Ф.М. |    460.00 |
| Есенин С.А.      |    650.00 |
+------------------+-----------+
3 rows in set (0.06 sec)

mysql>
+------------------+-------------+---------------+
| author           | SUM(amount) | COUNT(amount) |
+------------------+-------------+---------------+
| Булгаков М.А.    |           8 |             2 |
| Достоевский Ф.М. |          23 |             3 |
| Есенин С.А.      |          15 |             1 |
+------------------+-------------+---------------+
3 rows in set (0.00 sec)

mysql>
3 rows in set (0.00 sec)

mysql> SELECT  author,ROUND(AVG(price),2) AS Средняя_цена
    -> FROM book
    -> GROUP BY author;
+------------------+--------------+
| author           | Средняя_цена |
+------------------+--------------+
| Булгаков М.А.    |       605.75 |
| Достоевский Ф.М. |       579.84 |
| Есенин С.А.      |       650.00 |
+------------------+--------------+
3 rows in set (0.00 sec)

mysql> SELECT  author,ROUND(SUM((price*18/100)/(1+18/100)),2) AS НДС
    -> FROM book
    -> GROUP BY author;
+------------------+--------+
| author           | НДС    |
+------------------+--------+
| Булгаков М.А.    | 184.80 |
| Достоевский Ф.М. | 265.35 |
| Есенин С.А.      |  99.15 |
+------------------+--------+
3 rows in set (0.00 sec)

mysql> SELECT  author,ROUND(SUM((price*18/100)/(1+18/100)),2) AS НДС, ROUND(SUM(price/(1+18/100)),2) AS Стоимость_без_НДС
    -> FROM book
    -> GROUP BY author;
+------------------+--------+-------------------+
| author           | НДС    | Стоимость_без_НДС |
+------------------+--------+-------------------+
| Булгаков М.А.    | 184.80 |           1026.69 |
| Достоевский Ф.М. | 265.35 |           1474.16 |
| Есенин С.А.      |  99.15 |            550.85 |
+------------------+--------+-------------------+
3 rows in set (0.00 sec)

mysql> SELECT  author, ROUND(SUM(price*amount),2),ROUND(SUM((price*amount*18/100)/(1+18/100)),2) AS НДС, ROUND(SUM(price*amount/(1+18/100)),2) AS Стоимость_без_НДС
    -> FROM book
    -> GROUP BY author;
+------------------+----------------------------+---------+-------------------+
| author           | ROUND(SUM(price*amount),2) | НДС     | Стоимость_без_НДС |
+------------------+----------------------------+---------+-------------------+
| Булгаков М.А.    |                    4715.47 |  719.31 |           3996.16 |
| Достоевский Ф.М. |                   11802.03 | 1800.31 |          10001.72 |
| Есенин С.А.      |                    9750.00 | 1487.29 |           8262.71 |
+------------------+----------------------------+---------+-------------------+
3 rows in set (0.00 sec)

mysql> SELECT SUM(amount) AS Количество
    -> FROM book;
+------------+
| Количество |
+------------+
|         46 |
+------------+
1 row in set (0.00 sec)

mysql> SELECT SUM(amount) AS Количество,
    -> SUM(price*amount) AS Стоимость
    -> FROM book;
+------------+-----------+
| Количество | Стоимость |
+------------+-----------+
|         46 |  26267.50 |
+------------+-----------+
1 row in set (0.00 sec)

mysql> SELECT MIN(price) AS Минимальная_цена, MAX(price) AS Максимальная_цена, AVG(price) AS Средняя_цена
    -> FROM book;
+------------------+-------------------+--------------+
| Минимальная_цена | Максимальная_цена | Средняя_цена |
+------------------+-------------------+--------------+
|           460.00 |            799.01 |   600.166667 |
+------------------+-------------------+--------------+
1 row in set (0.05 sec)

+------------------+-------------------+--------------+
| Минимальная_цена | Максимальная_цена | Средняя_цена |
+------------------+-------------------+--------------+
|           460.00 |            799.01 |       600.17 |
+------------------+-------------------+--------------+
1 row in set (0.00 sec)

mysql> SELECT author,
    -> MIN(price) AS Минимальная_цена,
    -> MAX(price) AS Максимальная_цена
    -> FROM book
    -> GROUP BY author
    -> HAVING SUM(price*amount)>5000;
+------------------+------------------+-------------------+
| author           | Минимальная_цена | Максимальная_цена |
+------------------+------------------+-------------------+
| Достоевский Ф.М. |           460.00 |            799.01 |
| Есенин С.А.      |           650.00 |            650.00 |
+------------------+------------------+-------------------+
2 rows in set (0.07 sec)

mysql> SELECT author,
    -> MIN(price) AS Минимальная_цена,
    -> MAX(price) AS Максимальная_цена
    -> FROM book
    -> GROUP BY author
    -> HAVING SUM(price*amount)>5000
    -> ORDER BY Минимальная_цена DESC;
+------------------+------------------+-------------------+
| author           | Минимальная_цена | Максимальная_цена |
+------------------+------------------+-------------------+
| Есенин С.А.      |           650.00 |            650.00 |
| Достоевский Ф.М. |           460.00 |            799.01 |
+------------------+------------------+-------------------+
2 rows in set (0.00 sec)

mysql> SELECT ROUND(AVG(price),2) AS Средняя_цена,
    -> ROUND(SUM(price*amount),2) As Стоимость
    -> FROM book
    -> WHERE amount BETWEEN 5 AND 14;
+--------------+-----------+
| Средняя_цена | Стоимость |
+--------------+-----------+
|       493.67 |  12107.50 |
+--------------+-----------+
1 row in set (0.00 sec)

mysql> SELECT author,
    -> MIN(price) AS Минимальная_цена,
    -> MAX(price) AS Максимальная_цена
    -> FROM book
    -> WHERE author <> 'Есенин С.А.'
    -> GROUP BY author
    -> HAVING SUM(amount)>10;
+------------------+------------------+-------------------+
| author           | Минимальная_цена | Максимальная_цена |
+------------------+------------------+-------------------+
| Достоевский Ф.М. |           460.00 |            799.01 |
+------------------+------------------+-------------------+
1 row in set (0.00 sec)

mysql> SELECT author, SUM(price*amount) AS 'Стоимость'
    -> FROM book
    -> WHERE title <>'Идиот' AND title <>'Белая гвардия'
    -> GROUP BY author
    -> HAVING SUM(price*amount)>5000
    -> ORDER BY Стоимость DESC;
+------------------+-----------+
| author           | Стоимость |
+------------------+-----------+
| Есенин С.А.      |   9750.00 |
| Достоевский Ф.М. |   7202.03 |
+------------------+-----------+
2 rows in set (0.00 sec)

mysql>mysql> SELECT title,author,amount
    -> FROM book
    -> WHERE ABS (amount-(SELECT AVG(amount) FROM book))>3;
+-----------------------+------------------+--------+
| title                 | author           | amount |
+-----------------------+------------------+--------+
| Мастер и Маргарита    | Булгаков М.А.    |      3 |
| Братья Карамазовы     | Достоевский Ф.М. |      3 |
| Стихотворение и поэмы | Есенин С.А.      |     15 |
+-----------------------+------------------+--------+
3 rows in set (0.00 sec)

mysql> SELECT author,title,price
    -> FROM book
    -> WHERE ABS (price -(SELECT MIN(price) FROM book)) >=150
    -> ORDER BY price DESC;
+------------------+-----------------------+--------+
| author           | title                 | price  |
+------------------+-----------------------+--------+
| Достоевский Ф.М. | Братья Карамазовы     | 799.01 |
| Булгаков М.А.    | Мастер и Маргарита    | 670.99 |
| Есенин С.А.      | Стихотворение и поэмы | 650.00 |
+------------------+-----------------------+--------+
3 rows in set (0.00 sec)

mysql> SELECT author,title,price
    -> FROM book
    -> WHERE ABS (price -(SELECT MIN(price) FROM book)) <=150
    -> ORDER BY price DESC;
+------------------+---------------+--------+
| author           | title         | price  |
+------------------+---------------+--------+
| Булгаков М.А.    | Белая Гвардия | 540.50 |
| Достоевский Ф.М. | Игрок         | 480.50 |
| Достоевский Ф.М. | Идиот         | 460.00 |
+------------------+---------------+--------+
3 rows in set (0.00 sec)

mysql> SELECT author,title,price
    -> FROM book
    -> WHERE ABS (price + (SELECT MIN(price) FROM book)) >=150
    -> ORDER BY price ASC;
+------------------+-----------------------+--------+
| author           | title                 | price  |
+------------------+-----------------------+--------+
| Достоевский Ф.М. | Идиот                 | 460.00 |
| Достоевский Ф.М. | Игрок                 | 480.50 |
| Булгаков М.А.    | Белая Гвардия         | 540.50 |
| Есенин С.А.      | Стихотворение и поэмы | 650.00 |
| Булгаков М.А.    | Мастер и Маргарита    | 670.99 |
| Достоевский Ф.М. | Братья Карамазовы     | 799.01 |
+------------------+-----------------------+--------+
6 rows in set (0.00 sec)

mysql> INSERT INTO book (book_id,title,author,price,amount)
    -> VALUES (7,'Евгений Онегин','Пушкин А.С.',610.00,10)
    -> ;
Query OK, 1 row affected (0.77 sec)

mysql> SELECT * FROM book;
+---------+-----------------------+------------------+--------+--------+
| book_id | title                 | author           | price  | amount |
+---------+-----------------------+------------------+--------+--------+
|       1 | Мастер и Маргарита    | Булгаков М.А.    | 670.99 |      3 |
|       2 | Белая Гвардия         | Булгаков М.А.    | 540.50 |      5 |
|       3 | Идиот                 | Достоевский Ф.М. | 460.00 |     10 |
|       4 | Братья Карамазовы     | Достоевский Ф.М. | 799.01 |      3 |
|       5 | Игрок                 | Достоевский Ф.М. | 480.50 |     10 |
|       6 | Стихотворение и поэмы | Есенин С.А.      | 650.00 |     15 |
|       7 | Евгений Онегин        | Пушкин А.С.      | 610.00 |     10 |
+---------+-----------------------+------------------+--------+--------+
7 rows in set (0.00 sec)


mysql> SELECT author,title,price
    -> FROM book
    -> WHERE ABS (price -(SELECT AVG(price) FROM book)) <=150
    -> ORDER BY price ASC;
+------------------+-----------------------+--------+
| author           | title                 | price  |
+------------------+-----------------------+--------+
| Достоевский Ф.М. | Идиот                 | 460.00 |
| Достоевский Ф.М. | Игрок                 | 480.50 |
| Булгаков М.А.    | Белая Гвардия         | 540.50 |
| Пушкин А.С.      | Евгений Онегин        | 610.00 |
| Есенин С.А.      | Стихотворение и поэмы | 650.00 |
| Булгаков М.А.    | Мастер и Маргарита    | 670.99 |
+------------------+-----------------------+--------+
6 rows in set (0.03 sec)

mysql> SELECT author,title,price
    -> FROM book
    -> WHERE ABS (price -(SELECT MIN(price) FROM book)) <=150
    -> ORDER BY price ASC;
+------------------+----------------+--------+
| author           | title          | price  |
+------------------+----------------+--------+
| Достоевский Ф.М. | Идиот          | 460.00 |
| Достоевский Ф.М. | Игрок          | 480.50 |
| Булгаков М.А.    | Белая Гвардия  | 540.50 |
| Пушкин А.С.      | Евгений Онегин | 610.00 |
+------------------+----------------+--------+
4 rows in set (0.00 sec)

mysql>| Булгаков М.А.    | Мастер и Маргарита    | 670.99 |
| Достоевский Ф.М. | Братья Карамазовы     | 799.01 |
+------------------+-----------------------+--------+
6 rows in set (0.00 sec)

mysql> INSERT INTO book (book_id,title,author,price,amount)
    -> VALUES (7,'Евгений Онегин','Пушкин А.С.',610.00,10)
    -> ;
Query OK, 1 row affected (0.77 sec)

mysql> SELECT * FROM book;
+---------+-----------------------+------------------+--------+--------+
| book_id | title                 | author           | price  | amount |
+---------+-----------------------+------------------+--------+--------+
|       1 | Мастер и Маргарита    | Булгаков М.А.    | 670.99 |      3 |
|       2 | Белая Гвардия         | Булгаков М.А.    | 540.50 |      5 |
|       3 | Идиот                 | Достоевский Ф.М. | 460.00 |     10 |
|       4 | Братья Карамазовы     | Достоевский Ф.М. | 799.01 |      3 |
|       5 | Игрок                 | Достоевский Ф.М. | 480.50 |     10 |
|       6 | Стихотворение и поэмы | Есенин С.А.      | 650.00 |     15 |
|       7 | Евгений Онегин        | Пушкин А.С.      | 610.00 |     10 |
+---------+-----------------------+------------------+--------+--------+
7 rows in set (0.00 sec)

mysql> SELECT author,title,price
    -> FROM book
    -> WHERE ABS (price -(SELECT AVG(price) FROM book)) <=150
    -> ORDER BY price ASC;
+------------------+-----------------------+--------+
| author           | title                 | price  |
+------------------+-----------------------+--------+
| Достоевский Ф.М. | Идиот                 | 460.00 |
| Достоевский Ф.М. | Игрок                 | 480.50 |
| Булгаков М.А.    | Белая Гвардия         | 540.50 |
| Пушкин А.С.      | Евгений Онегин        | 610.00 |
| Есенин С.А.      | Стихотворение и поэмы | 650.00 |
| Булгаков М.А.    | Мастер и Маргарита    | 670.99 |
+------------------+-----------------------+--------+
6 rows in set (0.03 sec)

mysql> SELECT author,title,price
    -> FROM book
    -> WHERE ABS (price -(SELECT MIN(price) FROM book)) <=150
    -> ORDER BY price ASC;
+------------------+----------------+--------+
| author           | title          | price  |
+------------------+----------------+--------+
| Достоевский Ф.М. | Идиот          | 460.00 |
| Достоевский Ф.М. | Игрок          | 480.50 |
| Булгаков М.А.    | Белая Гвардия  | 540.50 |
| Пушкин А.С.      | Евгений Онегин | 610.00 |
+------------------+----------------+--------+
4 rows in set (0.00 sec)

mysql> SELECT title,author,amount,price
    -> FROM book
    -> WHERE author IN(
    -> SELECT author
    -> FROM book
    -> GROUP BY author
    -> HAVING SUM(amount)>=12
    -> );
+-----------------------+------------------+--------+--------+
| title                 | author           | amount | price  |
+-----------------------+------------------+--------+--------+
| Идиот                 | Достоевский Ф.М. |     10 | 460.00 |
| Братья Карамазовы     | Достоевский Ф.М. |      3 | 799.01 |
| Игрок                 | Достоевский Ф.М. |     10 | 480.50 |
| Стихотворение и поэмы | Есенин С.А.      |     15 | 650.00 |
+-----------------------+------------------+--------+--------+
4 rows in set (0.07 sec)

mysql> SELECT *FROM book;
+---------+-----------------------+------------------+--------+--------+
| book_id | title                 | author           | price  | amount |
+---------+-----------------------+------------------+--------+--------+
|       1 | Мастер и Маргарита    | Булгаков М.А.    | 670.99 |      3 |
|       2 | Белая Гвардия         | Булгаков М.А.    | 540.50 |      5 |
|       3 | Идиот                 | Достоевский Ф.М. | 460.00 |     10 |
|       4 | Братья Карамазовы     | Достоевский Ф.М. | 799.01 |      3 |
|       5 | Игрок                 | Достоевский Ф.М. | 480.50 |     10 |
|       6 | Стихотворение и поэмы | Есенин С.А.      | 650.00 |     15 |
|       7 | Евгений Онегин        | Пушкин А.С.      | 610.00 |     10 |
+---------+-----------------------+------------------+--------+--------+
7 rows in set (0.00 sec)

mysql> SELECT author,title,amount
    -> FROM book
    -> WHERE amount IN (
    -> SELECT amount
    -> FROM book
    -> GROUP BY amount
    -> HAVING count(amount)=1);
+---------------+-----------------------+--------+
| author        | title                 | amount |
+---------------+-----------------------+--------+
| Булгаков М.А. | Белая Гвардия         |      5 |
| Есенин С.А.   | Стихотворение и поэмы |     15 |
+---------------+-----------------------+--------+
2 rows in set (0.00 sec)

mysql> SELECT title,author,amount,price
    -> FROM book
    -> WHERE amount < ALL
    -> (
    -> SELECT AVG(amount)
    -> FROM book
    -> GROUP BY author
    -> );
+--------------------+------------------+--------+--------+
| title              | author           | amount | price  |
+--------------------+------------------+--------+--------+
| Мастер и Маргарита | Булгаков М.А.    |      3 | 670.99 |
| Братья Карамазовы  | Достоевский Ф.М. |      3 | 799.01 |
+--------------------+------------------+--------+--------+
2 rows in set (0.00 sec)

mysql> SELECT title,author,amount,price
    -> FROM book
    -> WHERE amount < ANY
    -> (
    -> SELECT AVG (amount)
    -> FROM book
    -> GROUP BY author
    -> );
+--------------------+------------------+--------+--------+
| title              | author           | amount | price  |
+--------------------+------------------+--------+--------+
| Мастер и Маргарита | Булгаков М.А.    |      3 | 670.99 |
| Белая Гвардия      | Булгаков М.А.    |      5 | 540.50 |
| Идиот              | Достоевский Ф.М. |     10 | 460.00 |
| Братья Карамазовы  | Достоевский Ф.М. |      3 | 799.01 |
| Игрок              | Достоевский Ф.М. |     10 | 480.50 |
| Евгений Онегин     | Пушкин А.С.      |     10 | 610.00 |
+--------------------+------------------+--------+--------+
6 rows in set (0.00 sec)

mysql> SELECT author,title,price
    -> FROM book
    -> WHERE price < ANY
    -> (
    -> SELECT MIN(price)
    -> FROM book
    -> GROUP BY author
    -> );
+------------------+----------------+--------+
| author           | title          | price  |
+------------------+----------------+--------+
| Булгаков М.А.    | Белая Гвардия  | 540.50 |
| Достоевский Ф.М. | Идиот          | 460.00 |
| Достоевский Ф.М. | Игрок          | 480.50 |
| Пушкин А.С.      | Евгений Онегин | 610.00 |
+------------------+----------------+--------+
4 rows in set (0.00 sec)

mysql> SELECT author,title,price
    -> FROM book
    -> WHERE price = (
    -> SELECT MIN(price)
    -> );
+------------------+-----------------------+--------+
| author           | title                 | price  |
+------------------+-----------------------+--------+
| Булгаков М.А.    | Мастер и Маргарита    | 670.99 |
| Булгаков М.А.    | Белая Гвардия         | 540.50 |
| Достоевский Ф.М. | Идиот                 | 460.00 |
| Достоевский Ф.М. | Братья Карамазовы     | 799.01 |
| Достоевский Ф.М. | Игрок                 | 480.50 |
| Есенин С.А.      | Стихотворение и поэмы | 650.00 |
| Пушкин А.С.      | Евгений Онегин        | 610.00 |
+------------------+-----------------------+--------+
7 rows in set (0.00 sec)

mysql> SELECT MIN(price)
    -> FROM book;
+------------+
| MIN(price) |
+------------+
|     460.00 |
+------------+
1 row in set (0.00 sec)

mysql> SELECT author,title,price
    -> FROM book
    -> WHERE price < ANY
    -> (
    -> SELECT MIN(price)
    -> FROM book
    -> GROUP BY author
    -> );
+------------------+----------------+--------+
| author           | title          | price  |
+------------------+----------------+--------+
| Булгаков М.А.    | Белая Гвардия  | 540.50 |
| Достоевский Ф.М. | Идиот          | 460.00 |
| Достоевский Ф.М. | Игрок          | 480.50 |
| Пушкин А.С.      | Евгений Онегин | 610.00 |
+------------------+----------------+--------+
4 rows in set (0.00 sec)
mysql> INSERT INTO supply (title,author,price,amount)
    -> VALUES
    -> ('Лирика','Пастернак Б.Л.',518.99,2),
    -> ('Черный человек','Есенин С.А.',570.20,6),
    -> ('Белая гвардия','Булгаков М.А.',540.50,7),
    -> ('Идиот','Достоевский М.Ф.',360.80,3);
ERROR 1364 (HY000): Field 'suppy_id' doesn't have a default value
mysql> INSERT INTO supply (supply_id,title,author,price,amount)
    -> VALUES
    -> (1,'Лирика','Пастернак Б.Л.',518.99,2),
    -> (2,'Черный человек','Есенин С.А.',570.20,6),
    -> (3,'Белая гвардия','Булгаков М.А.',540.50,7),
    -> (4,'Идиот','Достоевский М.Ф.',360.80,3);
ERROR 1054 (42S22): Unknown column 'supply_id' in 'field list'
mysql> DROP TABLE supply;
Query OK, 0 rows affected (0.33 sec)

mysql> SHOW TABLES;
+-----------------+
| Tables_in_sales |
+-----------------+
| book            |
| customer        |
| test2           |
+-----------------+
3 rows in set (0.15 sec)

mysql> CREATE TABLE supply (
    -> supply_id INT PRIMARY KEY AUTO_INCREMENT,
    -> title VARCHAR (50),
    -> author VARCHAR (30),
    -> price DECIMAL (8,2),
    -> amount INT);
Query OK, 0 rows affected (1.22 sec)

mysql> show tables;
+-----------------+
| Tables_in_sales |
+-----------------+
| book            |
| customer        |
| supply          |
| test2           |
+-----------------+
4 rows in set (0.06 sec)

mysql> INSERT INTO supply (supply_id,title,author,price,amount)
    -> VALUES
    -> (1,'Лирика','Пастернак Б.Л.',518.99,2),
    -> (2,'Черный человек','Есенин С.А.',570.20,6),
    -> (3,'Белая гвардия','Булгаков М.А.',540.50,7),
    -> (4,'Идиот','Достоевский М.Ф.',360.80,3);
Query OK, 4 rows affected (0.17 sec)
Records: 4  Duplicates: 0  Warnings: 0

mysql> SELECT *FROM supply;
+-----------+----------------+------------------+--------+--------+
| supply_id | title          | author           | price  | amount |
+-----------+----------------+------------------+--------+--------+
|         1 | Лирика         | Пастернак Б.Л.   | 518.99 |      2 |
|         2 | Черный человек | Есенин С.А.      | 570.20 |      6 |
|         3 | Белая гвардия  | Булгаков М.А.    | 540.50 |      7 |
|         4 | Идиот          | Достоевский М.Ф. | 360.80 |      3 |
+-----------+----------------+------------------+--------+--------+
4 rows in set (0.00 sec)
mysql> ^C -- Sorry, cannot connect to the server to kill query, giving up ...
dsc
    -> root
    -> ;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'dsc
root' at line 1
mysql> CREATE TABLE author
    ->  author_id INT PRIMARY KEY AUTO_INCREMENT
    -> name_author VARCHAR(50);
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'author_id INT PRIMARY KEY AUTO_INCREMENT
name_author VARCHAR(50)' at line 2
mysql> CREATE TABLE author (
    ->  author_id INT PRIMARY KEY AUTO_INCREMENT,
    -> name_author VARCHAR(50));
Query OK, 0 rows affected (6.36 sec)

mysql> show tables;
+-----------------+
| Tables_in_sales |
+-----------------+
| author          |
| book            |
| customer        |
| supply          |
| test2           |
+-----------------+
5 rows in set (0.23 sec)

mysql> INSERT INTO author (name_author)
    -> VALUES
    -> ('Булгаков М.А.'),
    -> ('Достоевский Ф.М.'),
    -> ('Есенин С.А.'),
    -> ('Пастернак Б.Л.');
Query OK, 4 rows affected (0.72 sec)
Records: 4  Duplicates: 0  Warnings: 0

mysql>